\section{Toward schemes}

\begin{exercise} % TODO do this
  I should be ashamed of myself, not being able to answer this question.
\end{exercise}

\begin{exercise} % TODO do this
  I should be ashamed of myself, not being able to answer this question.
\end{exercise}


\section{The underlying set of affine schemes}

\begin{exercise}
  \label{exercise:42a}
  \begin{enumerate}
    \item\label{enumerate:42a-a} So we're looking for the prime ideals of~$\Spec k[\epsilon]/(\epsilon^2)$. But these correspond to the prime ideals of~$\Spec k[\epsilon]$ containing~$(\epsilon^2)$. Now the only prime ideal of this form is~$(\epsilon)$. This corresponds to the polynomials in~$\epsilon$ with no constant term. If there would be a constant term, \ie, something of the form~$a+b\epsilon$ it would be invertible modulo~$\epsilon^2$ using a geometric series. There is only one point.

      Notice that~$\Spec k[\epsilon]/(\epsilon)$ is not an integral domain:~$\epsilon^2$ is contained in~$(0)$ yet~$\epsilon\notin(0)$.

    \item\label{enumerate:42a-b} By commutative algebra the prime ideals of the localization correspond to the prime ideals of~$\Spec k[x]$ not containing~$(x)$. So the set~$\Spec k[x]_{(x)}$ corresponds to~$\Spec k[x]\setminus\left\{ (x) \right\}$ because there is only one prime ideal containing~$x$ namely~$(x)$: if there would be another one we could reduce it to a constant ending up the whole ring, a contradiction.
  \end{enumerate}
\end{exercise}

\begin{exercise}
  Using the discriminant we obtain the two roots of the quadratic which look like
  \begin{equation}
    x_{1,2}=\frac{-a\pm\sqrt{a^2-4b}}{2}
  \end{equation}
  where~$a^2-4b<0$. Now using operations of~$\mathbb{R}$ we can reduce this to~$i$.
\end{exercise}

\begin{exercise}
  This set corresponds to all polynomials that are irreducible over~$\mathbb{Q}$. There are the obvious points~$(x-a)$ where~$a\in\mathbb{Q}$, but all roots of polynomials are present too but they are glued together by the corresponding Galois actions. It corresponds to the identification of roots in the algebraic closure~$\mathbb{Q}^{\alg}$.
\end{exercise}

\begin{exercise}
  \label{exercise:42d}
  Suppose~$\mathfrak{p}$ is a prime ideal that is not a principal ideal. Take two essential generators~$f(x,y)$ and~$g(x,y)$ (\ie, with not all factors of one contained in the other). This must be possible because otherwise we wouldn't have a principal ideal: one can be written as a product of the other with a polynomial containing the missing factors. Now because~$\mathfrak{p}$ is prime we can remove all common factors.

  By applying the Euclidean algorithm in~$\mathcal{C}(x)[y]$ we can find a polynomial in the variable~$x$ contained in~$(f(x,y),g(x,y))\subseteq\mathfrak{p}$, which by the algebraic closedness of~$\mathcal{C}$ reduces to a linear factor~$(x-a)$ contained in~$\mathfrak{p}$ and analogously~$(y-b)\in\mathfrak{p}$.

  Obviously any principal ideal must be generated by an irreducible polynomial. So having reduced all non-principal ideals to ideals of the form~$(x-a,y-b)$ we have finished the proof.
\end{exercise}

\begin{exercise}
  The first maximal ideal is~$(x^2+y^2-4,x-y)$ while the second is~$(x^2+y^2-4,x+y)$. The residue fields are~$\mathbb{Q}(\sqrt{2})$ in both cases: substituting the second generator in the first yields this result.
\end{exercise}

\begin{exercise} % TODO do this
  I'm still wondering whether my answer is correct.
\end{exercise}

\begin{exercise}
  \label{exercise:42g}
  I have used this fact in~\autoref{exercise:42a}\ref{enumerate:42a-a}. It boils down to
  \begin{equation}
    A/J\cong (A/I)/(J/I) 
  \end{equation}
  where~$I\subseteq J$ are prime ideals of~$A$, and this is equivalent to~$\overline{J}$ being prime in~$A/I$.
\end{exercise}

\begin{exercise} % TODO rewrite this
  \label{exercise:42h}
  I have used this fact in~\autoref{exercise:42a}\ref{enumerate:42a-b}. A prime ideal of~$A$ that contains an element of~$S$ will the whole become~$S^{-1}A$ under localization. A prime ideal of~$A$ disjoint of~$S$ remains prime because the product~$(p_1/s_1)(p_2/s_2)$ is in the prime ideal if and only if~$(p_1p_2)/(s_1s_2)$ is in the prime ideal, but we can multiply with~$s_1s_2$ as this is by multiplicativity of~$S$ not a member of the prime ideal. Now we have reduced it to~$p_1p_2$ in the prime ideal.
\end{exercise}

\begin{exercise} % TODO do this
  I haven't figured it out yet.
\end{exercise}

\begin{exercise}
  \label{exercise:42j}
  Assume~$b_1b_2\in\phi^{-1}(\mathfrak{p})$, we have
  \begin{equation}
    \phi(b_1b_2)=\phi(b_1)\phi(b_2)\in\phi\left( \phi^{-1}(\mathfrak{p}) \right)=\mathfrak{p},
  \end{equation}
  hence~$\phi(b_1)$ or~$\phi(b_2)$ as~$\phi(\phi^{-1}(\mathfrak{p}))=\mathfrak{p}$ is a prime ideal in~$A$. We obtain that~$\phi^{-1}(\phi(b_1))=b_1$ or~$\phi^{-1}(\phi(b_2))=b_2$ must be an element of~$\phi^{-1}(\mathfrak{p})$.
\end{exercise}

\begin{exercise}
  \label{exercise:42k}
  \begin{enumerate}
    \item\label{enumerate:42k-a} Using~\autoref{exercise:42g} everything is already clear: the primes of~$A$ containing~$I$ form a subset of~$\Spec A$ and~$\phi^{-1}$ is an inclusion-preserving bijection, giving us the suggested picture.

    \item Using~\autoref{exercise:42h} everything is analogous.
  \end{enumerate}
\end{exercise}

\begin{exercise}
  The fiber of~$a\in\mathbb{C}$ corresponds to the preimage of the prime ideal (in this case: maximal ideal) defining~$a$, \ie, $(x-a)$. This obviously gives us~$y^2-a=(y-\sqrt{a})(y+\sqrt{a})$, hence the result.
\end{exercise}

\begin{exercise} % TODO is it?
  \begin{enumerate}
    \item This is a restatement of~\autoref{exercise:42k}\ref{enumerate:42k-a}.

    \item The Nullstellensatz gives us that all maximal ideals (\ie, points) of~$\mathbb{C}^n$ are exactly the ideals of the form~$(x_1-a_1,\ldots,x_m-a_m)$, which by~$\phi$ are mapped to the corresponding points of~$\mathbb{C}^n$.
  \end{enumerate}
\end{exercise}

\begin{exercise} % TODO fix this
  In the notation of~\autoref{exercise:42k}\ref{enumerate:42k-a} we have~$I=(x_1,\ldots,x_n)$ and~$B$ being~$\mathbb{Z}[x_1,\ldots,x_n]$. A point of~$\mathbb{A}_{\mathbb{F}_p}^n$ corresponds to a polynomial in~$n$~variables that is irreducible over~$\mathbb{F}_p$, which lies in the fiber over~$(p)$ because it is contained in the image of the induced ring map.
\end{exercise}

\begin{exercise}
  \label{exercise:42o}
  \begin{enumerate}
    \item We have that every prime ideal contains all nilpotents: if~$c$ is a nilpotent such that~$c^n=0$, we immediately find that~$c$ is an element of the prime ideal. The bijection is between primes of~$A/I$ and primes of~$A$ containing~$I$, but this latter set contains all primes, hence there is a bijection of the underlying sets.

    \item\label{enumerate:42o-b} Let's check the axioms. The sum of two nilpotents is again a nilpotent: take~$x$ and~$y$ nilpotents such that~$x^n=y^m=0$, we easily obtain
      \begin{equation}
        (x+y)^{n+m}=\sum_{i=0}^{n+m}\binom{n+m}{i}x^iy^{n+m-i}
      \end{equation}
      such that there always is a vanishing factor present in the expansion. Closed under multiplication is obviously true too: we have~$(bx)^n=b^nx^n=0$ for~$b\in B$.
  \end{enumerate}
\end{exercise}

\begin{exercise} % TODO copy
  I have seen this exercise in my Commutative algebra course. It might be a good idea to state it here as well.
\end{exercise}

\begin{exercise} % TODO do this
  I fail to find a decent argument.
\end{exercise}

\begin{exercise}
  A polynomial~$f\in k[x]$ corresponds to~$\sum_{k=0}^na_kx^k$. Now considering it over~$k[x,\epsilon]/(\epsilon^2)$ and ``evaluating'' it at~$x+\epsilon$ we find
  \begin{equation}
    f(x+\epsilon)=\sum_{k=0}^na_k(x+\epsilon)^k=\sum_{k=0}^na_k\left( x^n+nx^{n-1}\epsilon \right)
  \end{equation}
  because every term containing~$\epsilon^2$ is gone. If we move the first term of the inner sum to the left-hand side and dividing both sides by~$\epsilon$ (which isn't really possible, but for the sake of argument we can assume this), we see the fact~$(x^n)'=nx^{n-1}$.
\end{exercise}


\section{Visualing schemes I: generic points}

There are no exercises in this section.


\section{The underlying topological space of an affine scheme}

\begin{exercise}
  The~$x$\nobreakdash-axis corresponds to the ideal~$(y,z)$. This ideal contains the ideal~$(xy,yz)$, hence we have the inclusion of the axis in the vanishing set.
\end{exercise}

\begin{exercise}
  We have the obvious inclusion~$S\subseteq(S)$, so for the vanishing sets we have the opposite inclusion:
  \begin{equation}
    \vanishing{V}(S)=\left\{ [\mathfrak{p}]\in\Spec A\,|\, S\subseteq\mathfrak{p} \right\}\supseteq\left\{ [\mathfrak{p}]\in\Spec A\,|\, (S)\subseteq\mathfrak{p} \right\}=\vanishing\left( (S) \right).
  \end{equation}
  But if we take an element of the left-hand side, \ie, a prime ideal such that $S\subseteq\mathfrak{p}$ we can take an element of the generated ideal~$(S)$ and see that it is contained in~$\mathfrak{p}$ by the axioms of an ideal. I might have wasted too much words on this exercise.
\end{exercise}

\begin{exercise}
  \label{exercise:44c}
  \begin{enumerate}
    \item\label{enumerate:44c-a} We need to find vanishing sets such that their complements are~$\emptyset$ and~$\Spec A$. The vanishing set~$\vanishing(A)$ contains all of~$A$, hence its complement is empty. On the other hand,~$\vanishing(\left\{ 0 \right\})$ contains all prime ideals of~$A$, hence equals~$\Spec A$.

    \item This equality is obvious: for a point to be contained in the intersection, it must be contained in all ideals~$(I_i)_i$, but that means it is contained in the vanishing set of the sum of the ideals because this contains exactly all those elements.

    \item We obviously have~$\vanishing(I_1)\cup\vanishing(I_2)\subseteq\vanishing(I_1I_2)$ because~$I_1I_2\subseteq I_1,I_2$.

      For the other direction, consider~$\mathfrak{p}\in\Spec A\setminus(\vanishing(I_1)\cup\vanishing(I_2))$. That means there exist~$f\in I_1\setminus\mathfrak{p}$ and~$g\in I_2\setminus\mathfrak{p}$ such that~$fg\notin\mathfrak{p}$. But~$fg\in I_1I_2$, so~$\mathfrak{p}\nsupseteq I_1I_2$ so the other inclusion is proved.
  \end{enumerate}
\end{exercise}

\begin{exercise} % TODO better wording
  \label{exercise:44d}
  The fact that~$\sqrt{I}$ is an ideal is a restatement of~\autoref{exercise:42o}\ref{enumerate:42o-b}.
  
  Because~$I\subseteq\sqrt{I}$ we obviously have~$\vanishing(\sqrt{I})\subseteq\vanishing(I)$, so let's take~$\mathfrak{p}$ in the right-hand side. As~$\mathfrak{p}$ is prime and by definition of the radical of an ideal we only consider powers of elements, we have the opposite inclusion.

  The fact that~$\sqrt{\sqrt{I}}=\sqrt{I}$ follows from consecutive exponentiation. And if~$f^m\in\mathfrak{p}$ for some~$m$ we have~$f\in\mathfrak{p}$ by primeness.
\end{exercise}

\begin{exercise}
  Consider the scenario of two ideals, hence we wish to prove
  \begin{equation}
    \sqrt{I\cap J}=\sqrt{I}\cap\sqrt{J}.
  \end{equation}
  Because taking the radical preserves inclusion we have the inclusion from left to right as~$I\cap J\subseteq I,J$ and therefore~$\sqrt{I\cap J}\subseteq\sqrt{I},\sqrt{J}$ so~$\sqrt{I\cap J}\subseteq\sqrt{I}\cap\sqrt{J}$.
  
  Now take~$x\in\sqrt{I}\cap\sqrt{J}$, there must exist an~$n$ such that~$x^n\in\sqrt{I}$ and~$m$ such that~$x^m\in\sqrt{J}$. But now~$x^{n+m}\in I\cap J$, so~$x\in\sqrt{I\cap J}$.

  The general result follows by induction.
\end{exercise}

\begin{exercise}
  \label{exercise:44f}
  Perform it on~$A/I$. The ideal~$I$ is sent to~$0$ under the quotient map, hence the nilradical~$\nil(A/I)$ is the intersection of all prime ideals containing~$I$, but this corresponds to~$\sqrt{I}$ in~$A$.
\end{exercise}

\begin{exercise}
  By~\autoref{exercise:42j} closed points pull back to closed points. Now a closed set is the finite union of closed points, which under an inverse map is preserved.
\end{exercise}

\begin{exercise} % TODO finish this
  \label{exercise:44h}
  \begin{enumerate}
    \item By~\autoref{exercise:42g} we have that~$\Spec B/I$ corresponds to the vanishing set~$\vanishing(I)$, hence it is closed by definition of the Zariski topology.

      Analogously, the vanishing set~$\vanishing((f))$ described the complement of~$\Spec S^{-1}B$ in this case.

      This construction doesn't work for every localization as is clear from Figure~4.5 and~\autoref{exercise:42d}. The complement of the ``shred of~$\mathbb{A}_{\mathbb{C}}^2$'' doesn't fulfill the conditions for a closed set described there and in Example~7 of that section.

    \item By an argument on the vanishing sets we easily obtain the statement. Maybe I should put this down in symbols.
  \end{enumerate}
\end{exercise}

\begin{exercise}
  \label{exercise:44i}
  By definition we have
  \begin{equation}
    \vanishing(I)=\left\{ [\mathfrak{p}]\in\Spec A\,|\,I\subseteq[\mathfrak{p}] \right\}
  \end{equation}
  and~$f$ vanishes on this set if and only if it is contained in the prime ideals that constitute the points of~$\vanishing(I)$. But using~\autoref{exercise:44f} this is exactly equivalent to~$f\in\sqrt{I}$.
\end{exercise}

\begin{exercise}
  By~\autoref{exercise:44h} we have the subspace topology on~$\Spec k[x]_{(x)}$ so we need to state what the subspace is. By using~\autoref{exercise:42h} we obtain the affine line with the origin (corresponding to~$(x)$) removed.
\end{exercise}


\section{A base of the Zariski topology on \texorpdfstring{$\Spec A$}{Spec A}: distinguished open sets}

\begin{exercise}
  Using the hint we find
  \begin{equation}
    X\setminus\vanishing(S)=\left\{ [\mathfrak{p}]\in\Spec A\,|\,S\nsubseteq[\mathfrak{p}] \right\}
  \end{equation}
  and~$I\nsubseteq\mathfrak{p}$ if there is an~$f\in S$ such that~$f\notin\mathfrak{p}$, so~$\distinguished(f)\subseteq X\setminus\vanishing(S)$ in this case. We obtain~$X\setminus\vanishing(S)=\bigcup_{f\in S}\distinguished(f)$ as desired.
\end{exercise}

\begin{exercise} % TODO do this
  \label{exercise:45b}
  I have to write down a nice answer.
\end{exercise}

\begin{exercise}
  If~$\bigcup_{j\in J}\distinguished(f_j)=\Spec A$ we have~$(f_j)_{j\in J}=A$ by~\autoref{exercise:45b}, which means there is a finite subset~$J'$ of the index set~$J$ such that~$\sum_{j\in J'}a_jf_j=1$, so~$(f_j)_{j\in J'}=A$, such that~$\bigcup_{j\in J'}\distinguished(f_j)=\Spec A$.
\end{exercise}

\begin{exercise}
  We have
  \begin{equation}
    \begin{aligned}
      \distinguished(f)\cap\distinguished(g)&=\left\{ [\mathfrak{p}]\in\Spec A\,|\,f\notin\mathfrak{p}\wedge g\notin\mathfrak{p} \right\} \\
      &=\left\{ [\mathfrak{p}]\in\Spec A\,|\,fg\notin\mathfrak{p} \right\} \\
      &=\distinguished(fg)
    \end{aligned}
  \end{equation}
  because~$\mathfrak{p}$ is prime, so~$fg$ cannot be an element of it unless at least one of the factors is.
\end{exercise}

\begin{exercise} % TODO second equivalence
  \label{exercise:45e}
  By taking complements we can reduce this to~\autoref{exercise:44i}.
\end{exercise}

\begin{exercise}
  If~$f\in\mathfrak{N}$ we have~$f^n=0$ for some~$n$, which by~\autoref{exercise:44c}\ref{enumerate:44c-a} (this is more background information than the actual reason) and~\autoref{exercise:45e} gives~$\distinguished(f)\subseteq\distinguished(0)=\emptyset$.
\end{exercise}
